<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Friend Finder!</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

</head>

<body>
    <div class="card">
        <div class="card-header">
            <h1>Survey Questions</h1>
        </div>
        <div class="card-body">
            <form role="form">
                <div class="form-group">
                    <label for="name">Name (Required)</label>
                    <input type="text" class="form-control" id="name">
                </div>
                <div class="form-group">
                    <label for="id">Photo Link (required)</label>
                    <input type="text" class="form-control" id="id">
                </div>
            </form>
            <div class="dropdown">
                <label for="dropdownMenu2">1. You feel most relaxed when you are alone</label>
                <br>
                <select class="custom-select">
                    <option selected value="0">Open this select menu</option>
                    <option value="1">1 Strongly Agree</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 Strongly Disagree</option>
                </select>
            </div>
            <br>
            <div class="dropdown">
                <label for="dropdownMenu3">2. You prefer cats over dogs</label>
                <br>
                <select class="custom-select">
                    <option selected value="0">Open this select menu</option>
                    <option value="1">1 Strongly Agree</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 Strongly Disagree</option>
                </select>
            </div>
            <br>
            <div class="dropdown">
                <label for="dropdownMenu2">3. You prefer salty snacks over sweet snacks</label>
                <br>
                <select class="custom-select">
                    <option selected value="0">Open this select menu</option>
                    <option value="1">1 Strongly Agree</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 Strongly Disagree</option>
                </select>
            </div>
            <br>
            <div class="dropdown">
                <label for="dropdownMenu2">4. You prefer a mountain cabin over a beach bungalo</label>
                <br>
                <select class="custom-select">
                    <option selected value="0">Open this select menu</option>
                    <option value="1">1 Strongly Agree</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 Strongly Disagree</option>
                </select>
            </div>
            <br>
            <div class="dropdown">
                <label for="dropdownMenu2">5. You prefer comedy movies over drama</label>
                <br>
                <select class="custom-select">
                    <option selected value="0">Open this select menu</option>
                    <option value="1">1 Strongly Agree</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 Strongly Disagree</option>
                </select>
            </div>
            <br>
            <div class="dropdown">
                <label for="dropdownMenu2">6. You are scared to speak in public</label>
                <br>
                <select class="custom-select">
                    <option selected value="0">Open this select menu</option>
                    <option value="1">1 Strongly Agree</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 Strongly Disagree</option>
                </select>
            </div>
            <br>
            <div class="dropdown">
                <label for="dropdownMenu2">7. You make impulsive decisions</label>
                <br>
                <select class="custom-select">
                    <option selected value="0">Open this select menu</option>
                    <option value="1">1 Strongly Agree</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 Strongly Disagree</option>
                </select>
            </div>
            <br>
            <div class="dropdown">
                <label for="dropdownMenu2">8. You are a morning person</label>
                <br>
                <select class="custom-select">
                    <option selected value="0">Open this select menu</option>
                    <option value="1">1 Strongly Agree</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 Strongly Disagree</option>
                </select>
            </div>
            <br>
            <div class="dropdown">
                <label for="dropdownMenu2">9. You love trying new things</label>
                <br>
                <select class="custom-select">
                    <option selected value="0">Open this select menu</option>
                    <option value="1">1 Strongly Agree</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 Strongly Disagree</option>
                </select>
            </div>
            <br>
            <div class="dropdown">
                <label for="dropdownMenu2">10. Travelling is high on your list of goals</label>
                <br>
                <select class="custom-select">
                    <option selected value="0">Open this select menu</option>
                    <option value="1">1 Strongly Agree</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 Strongly Disagree</option>
                </select>
            </div>
            <br>
            <button type="submit" class="btn btn-primary submit">Submit</button>
        </div>
    </div>
    <!-- Button trigger modal
    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModalCenter">
        Launch demo modal
    </button> -->
    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalCenterTitle">Your New Friend!</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <span class="">I can't figure out how to parse my bestMatch into this Modal.</span>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>

                </div>
            </div>
        </div>
    </div>
</body>

</html>


<script src="https://code.jquery.com/jquery.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut"
    crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

<script type="text/javascript">


    $(".submit").on("click", function (event) {
        event.preventDefault();

        const scores = $('option:selected')
        const correctScoresArray = [];

        for (let i = 0; i < scores.length; i++) {
            correctScoresArray.push(+scores[i].value);
        }
        var newFriend = {
            Name: $("#name").val().trim(),
            Photo: $("#id").val().trim(),
            scores: correctScoresArray,
        };

        $.post("/api/friends", newFriend,
            function (data) {
                if (data) {
                    $('#myModal').modal('show')
                }
                else {
                    alert("Sorry you don't have a match");
                }
            });

    });


</script>